<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/atalhos.css">
    <link rel="icon" href="./imagem/Logo-icon1.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
     <script src="https://cdn.tailwindcss.com"></script>
    <title>Calçados SportMax</title>
</head>
<body>
<header>
    <div class="barra-inicial">
        <nav>
            <a href="./login.html" id="login-link">Entrar</a>   |
            <a href="./ajuda.html">Ajuda</a>  |
            <a href="./sobreNos.html">Sobre Nós</a> |
            <a href="./produto.html">Produtos</a>
        </nav>
    </div>

    <div class="cabecalho">
        <div class="logo">
            <a href="./index.html"><img src="./imagem/Logo.png" alt="Logo SportMax" class="logo__img" /></a>
        </div>

            <div class="botao__categorias">
                <a href="./atalho_roupa.html">Roupas</a>
                <a href="./atalho_calcado.html">Calçados</a>
                <a href="./atalho_esporte.html">Esportes</a>
                <a href="./atalho_futebol.html">Futebol</a>
                <a href="./atalho_basquete.html">Basquete</a>
                <a href="./atalho_corrida.html">Corrida</a>
            </div>
            
            
            <div class="container-direita">
                <input class="botao__pesquisa" type="search" placeholder="Buscar"/>
                <a href="./favorito.html"><i class="fa-solid fa-heart"></i></a>
                <a href="javascript:void(0)" onclick="toggleCart()"><i class="fa-solid fa-cart-shopping" aria-hidden="true"></i></a>
            </div>
    </div>
</header>

<main class="main-container">

    <div class="flex-container">
        <aside id="filter-aside">
            <h2>Filtro</h2>
        
            <div id="gender-filter">
                <h3>Gênero</h3>
                <div id="gender-buttons">
                    <button onclick="filterProducts('all', this)" class="filter-btn active">Todos</button>
                    <button onclick="filterProducts('male', this)" class="filter-btn">Masculino</button>
                    <button onclick="filterProducts('female', this)" class="filter-btn">Feminino</button>
                </div>
            </div>
            
            <div id="price-filter">
                <h3>Preço</h3>
                <button onclick="sortPrice('priceLow')" class="filter-btn">Menor preço</button>
                <button onclick="sortPrice('priceHigh')" class="filter-btn">Maior preço</button>
            </div>
            
            <div id="alphabet-filter">
                <h3>Ordem alfabética</h3>
                <button onclick="sortAlphabet('az')" class="filter-btn">A-Z</button>
                <button onclick="sortAlphabet('za')" class="filter-btn">Z-A</button>
            </div>
            
        </aside>

        <section id="products-section">
            <div id="products-header">
                <h2>Produtos</h2>

            </div>

            <div id="products-container">
                <!-- Produtos serão inseridos aqui via JavaScript -->
            </div>
        </section>
    </div>
</main>

<!-- Carrinho -->
<div class="carrinho" id="cartSidebar">
    <div class="carrinho-cabecalho">
        <h3>Seu Carrinho</h3>
        <button class="fechar-carrinho" onclick="toggleCart()">✕</button>
    </div>
    <div class="items-carrinho" id="cartItems">
        <p class="carrinho-vazio">Seu carrinho está vazio</p>
    </div>
    <div class="carrinho-rodape">
        <div class="carrinho-total">
            <strong>Total: R$ <span id="cartTotal">0,00</span></strong>
        </div>
        <button class="finalizar-btn" onclick="checkout()">Finalizar Compra</button>
    </div>
</div>
<div class="sobreposicao-carrinho" id="cartOverlay" onclick="toggleCart()"></div>

 <footer>
        <div class="conatainer-footer">
            <div>
                <h3>Políticas</h3>
                <ul>
                    <li><a href="./TermosECondicoes.html">Política de Privacidade</a></li>
                    <li><a href="./TermosECondicoes.html">Política de Pagamento</a></li>
                    <li><a href="./TermosECondicoes.html">Termos e Condições</a></li>
                    <li><a href="./TermosECondicoes.html">Termos de Uso</a></li>
                </ul>
            </div>
            <div>
                <h3>Ajuda</h3>
                <ul>
                    <li><a href="./ajuda.html">Perguntas Frequentes</a></li>
                    <li><a href="./ajuda.html">Relatar Problema</a></li>
                    <li><a href="./ajuda.html">Dúvidas Gerais</a></li>
                    <li><a href="#">Quem somos</a></li>
                    <li><a href="./ajuda.html">Devoluções</a></li>
                </ul>
            </div>
            <div class="contato-footer">
                <h3>Contato</h3>
                <p>contato@sportmax.com.br</p>
                <p>(19) 99725-0283</p>
            </div>
            <div class="redes">
                <div class="rede-sociais">
                    <h3>Redes Sociais</h3>
                    <div class="icon-redes">
                        <a href="#" class="instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="youtube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="Linkedin"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="pagamento-footer">
            <div class="pagamento">
                <h3>Formas de Pagamento</h3>
                <div class="icon_pagamento">
                    <img src="./imagem/pagina_inicial/mastercard.png" alt="Mastercard" />
                    <img src="./imagem/pagina_inicial/LogoHipercard.webp" alt="Hipercard" />
                    <img src="./imagem/pagina_inicial/LogoPix.png" alt="Pix" />
                    <img src="./imagem/pagina_inicial/LogoVisa.png" alt="Visa" />
                    <img src="./imagem/pagina_inicial/Logo-Elo.webp" alt="Elo">
                </div>
            </div>
        </div>
        <p class="direitos">© 2025 SportMax. Todos os direitos reservados.</p>
    </footer>
    
    
<script src="./JavaScript/atalho_calcado.js"></script>
<script src="./JavaScript/carrinho.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const nome = localStorage.getItem('nome');
        const loginLink = document.getElementById('login-link');
    
        if (nome && loginLink) {
            const primeiroNome = nome.split(' ')[0];
    
            loginLink.outerHTML = `
                <div id="user-container" style="position: relative; display: inline-block;">
                    <a href="javascript:void(0)" id="user-name">
                        <i class="fa fa-user"></i> Olá, ${primeiroNome}
                    </a>
                    <div id="user-menu">
                        <a href="./perfil.html" class="Perfil"><i class="fa fa-user"></i>Perfil</a>
                        <hr>
                        <button id="logout-btn"><i class="fa-solid fa-right-from-bracket"></i>Sair</button>
                    </div>
                </div>
            `;
    
            const userName = document.getElementById('user-name');
            const userMenu = document.getElementById('user-menu');
            const logoutBtn = document.getElementById('logout-btn');
    
            // Mostra/oculta o menu quando clicar no nome
            userName.addEventListener('click', () => {
                userMenu.style.display = userMenu.style.display === 'flex' ? 'none' : 'flex';
            });
    
            // Fecha o menu se clicar fora dele
            document.addEventListener('click', (e) => {
                if (!userName.contains(e.target) && !userMenu.contains(e.target)) {
                    userMenu.style.display = 'none';
                }
            });
    
            // Função de logout
            logoutBtn.addEventListener('click', () => {
                localStorage.removeItem('token');
                localStorage.removeItem('nome');
                window.location.reload();
            });
        }
    });

    // Ativar todos os botões "Adicionar ao carrinho"
document.addEventListener('click', (event) => {
  if (event.target.classList.contains('btn-carrinho')) {
    const card = event.target.closest('.product-card');
    const nome = card.querySelector('h3').textContent;
    const precoTexto = card.querySelector('span').textContent.replace('R$', '').trim();
    const preco = parseFloat(precoTexto.replace(',', '.'));
    const imagem = card.querySelector('img').src;

    adicionarAoCarrinho({ nome, preco, imagem });
  }
});
</script>
</body>
</html>